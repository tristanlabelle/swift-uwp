// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Represents a trigger that launches a background task when an incoming change notification is received for a Bluetooth LE GATT characteristic.
public final class WindowsApplicationModelBackground_GattCharacteristicNotificationTrigger: WindowsRuntime.WinRTImport<WindowsApplicationModelBackground_GattCharacteristicNotificationTriggerProjection>, WindowsApplicationModelBackground_IBackgroundTriggerProtocol {
    // MARK: Windows.ApplicationModel.Background.IGattCharacteristicNotificationTriggerFactory members

    public convenience init(_ characteristic: WindowsDevicesBluetoothGenericAttributeProfile_GattCharacteristic?) throws {
        self.init(_transferringRef: try COM.NullResult.unwrap(Self._igattCharacteristicNotificationTriggerFactory.create(characteristic)))
    }

    // MARK: Windows.ApplicationModel.Background.IGattCharacteristicNotificationTriggerFactory2 members

    public convenience init(_ characteristic: WindowsDevicesBluetoothGenericAttributeProfile_GattCharacteristic?, _ eventTriggeringMode: WindowsDevicesBluetoothBackground_BluetoothEventTriggeringMode) throws {
        self.init(_transferringRef: try COM.NullResult.unwrap(Self._igattCharacteristicNotificationTriggerFactory2.createWithEventTriggeringMode(characteristic, eventTriggeringMode)))
    }

    // MARK: Windows.ApplicationModel.Background.IGattCharacteristicNotificationTrigger members

    /// Gets the GATT characteristic for which value change notifications are desired.
    /// - Returns: The GATT characteristic for which value change notifications are desired.
    public var characteristic: WindowsDevicesBluetoothGenericAttributeProfile_GattCharacteristic {
        get throws {
            try COM.NullResult.unwrap(_interop.get_Characteristic())
        }
    }

    // MARK: Windows.ApplicationModel.Background.IGattCharacteristicNotificationTrigger2 members

    /// Gets the mode for the trigger. The mode specifies when the trigger is activated.
    /// - Returns: The trigger mode.
    public var eventTriggeringMode: WindowsDevicesBluetoothBackground_BluetoothEventTriggeringMode {
        get throws {
            try _igattCharacteristicNotificationTrigger2.get_EventTriggeringMode()
        }
    }

    // MARK: Implementation details

    private var _ibackgroundTrigger_storage: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IBackgroundTrigger>? = nil

    internal var _ibackgroundTrigger: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IBackgroundTrigger> {
        get throws {
            try _ibackgroundTrigger_storage.lazyInit {
                try _queryInterfacePointer(CWinRT.SWRT_WindowsApplicationModelBackground_IBackgroundTrigger.iid).cast(to: CWinRT.SWRT_WindowsApplicationModelBackground_IBackgroundTrigger.self)
            }
        }
    }

    private var _igattCharacteristicNotificationTrigger2_storage: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTrigger2>? = nil

    internal var _igattCharacteristicNotificationTrigger2: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTrigger2> {
        get throws {
            try _igattCharacteristicNotificationTrigger2_storage.lazyInit {
                try _queryInterfacePointer(CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTrigger2.iid).cast(to: CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTrigger2.self)
            }
        }
    }

    deinit {
        _ibackgroundTrigger_storage?.release()
        _igattCharacteristicNotificationTrigger2_storage?.release()
    }

    private static var _igattCharacteristicNotificationTriggerFactory_storage: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTriggerFactory>? = nil

    internal static var _igattCharacteristicNotificationTriggerFactory: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTriggerFactory> {
        get throws {
            try _igattCharacteristicNotificationTriggerFactory_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.ApplicationModel.Background.GattCharacteristicNotificationTrigger", id: CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTriggerFactory.iid)
            }
        }
    }

    private static var _igattCharacteristicNotificationTriggerFactory2_storage: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTriggerFactory2>? = nil

    internal static var _igattCharacteristicNotificationTriggerFactory2: COM.COMInterop<CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTriggerFactory2> {
        get throws {
            try _igattCharacteristicNotificationTriggerFactory2_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.ApplicationModel.Background.GattCharacteristicNotificationTrigger", id: CWinRT.SWRT_WindowsApplicationModelBackground_IGattCharacteristicNotificationTriggerFactory2.iid)
            }
        }
    }
}