// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Represents a gamepad.
public final class WindowsGamingInput_Gamepad: WindowsRuntime.WinRTImport<WindowsGamingInput_GamepadProjection>, WindowsGamingInput_IGameControllerProtocol, WindowsGamingInput_IGameControllerBatteryInfoProtocol {
    // MARK: Windows.Gaming.Input.IGamepad members

    /// Describes the gamepad motor speed.
    /// - Returns: Describes the gamepad motor speed.
    public var vibration: WindowsGamingInput_GamepadVibration {
        get throws {
            try _interop.get_Vibration()
        }
    }

    /// Describes the gamepad motor speed.
    /// - Returns: Describes the gamepad motor speed.
    public func vibration(_ value: WindowsGamingInput_GamepadVibration) throws {
        try _interop.put_Vibration(value)
    }

    /// Gets a snapshot of the gamepad state.
    /// - Returns: The current state of the gamepad.
    public func getCurrentReading() throws -> WindowsGamingInput_GamepadReading {
        try _interop.getCurrentReading()
    }

    // MARK: Windows.Gaming.Input.IGameController members

    /// The audio headset attached to the gamepad.
    /// - Returns: The audio headset attached to the gamepad.
    public var headset: WindowsGamingInput_Headset {
        get throws {
            try COM.NullResult.unwrap(_igameController.get_Headset())
        }
    }

    /// Gets a value that indicates the wireless state of the gamepad.
    /// - Returns: True if the gamepad is wireless. Otherwise, false.
    public var isWireless: Swift.Bool {
        get throws {
            try _igameController.get_IsWireless()
        }
    }

    /// The user associated with the gamepad.
    /// - Returns: The user associated with the gamepad.
    public var user: WindowsSystem_User {
        get throws {
            try COM.NullResult.unwrap(_igameController.get_User())
        }
    }

    /// Signals when a headset is attached to the gamepad.
    public func headsetConnected(adding value: WindowsFoundation_TypedEventHandler<WindowsGamingInput_IGameController?, WindowsGamingInput_Headset?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _igameController.add_HeadsetConnected(value)
        return WindowsRuntime.EventRegistration(token: _token, remover: headsetConnected)
    }

    public func headsetConnected(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _igameController.remove_HeadsetConnected(token)
    }

    /// Signals when a headset is disconnected from the gamepad.
    public func headsetDisconnected(adding value: WindowsFoundation_TypedEventHandler<WindowsGamingInput_IGameController?, WindowsGamingInput_Headset?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _igameController.add_HeadsetDisconnected(value)
        return WindowsRuntime.EventRegistration(token: _token, remover: headsetDisconnected)
    }

    public func headsetDisconnected(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _igameController.remove_HeadsetDisconnected(token)
    }

    /// Signals when the user associated with the gamepad has changed.
    public func userChanged(adding value: WindowsFoundation_TypedEventHandler<WindowsGamingInput_IGameController?, WindowsSystem_UserChangedEventArgs?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _igameController.add_UserChanged(value)
        return WindowsRuntime.EventRegistration(token: _token, remover: userChanged)
    }

    public func userChanged(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _igameController.remove_UserChanged(token)
    }

    // MARK: Windows.Gaming.Input.IGamepad2 members

    /// Retrieves the button label for the specified button.
    /// - Parameter button: The button for which to retrieve the label.
    /// - Returns: The label for the specified button. If the button label is blank or there is no known label for the controllerâ€™s button, then **None** is returned.
    public func getButtonLabel(_ button: WindowsGamingInput_GamepadButtons) throws -> WindowsGamingInput_GameControllerButtonLabel {
        try _igamepad2.getButtonLabel(button)
    }

    // MARK: Windows.Gaming.Input.IGameControllerBatteryInfo members

    /// Gets information about the gamepad's current battery state.
    /// - Returns: Information about the gamepad's current battery state.
    public func tryGetBatteryReport() throws -> WindowsDevicesPower_BatteryReport {
        try COM.NullResult.unwrap(_igameControllerBatteryInfo.tryGetBatteryReport())
    }

    // MARK: Windows.Gaming.Input.IGamepadStatics2 members

    /// Returns the given game controller as a gamepad.
    /// - Parameter gameController: The game controller to be returned as a gamepad.
    /// - Returns: The gamepad that was returned from the given game controller.
    public static func fromGameController(_ gameController: WindowsGamingInput_IGameController?) throws -> WindowsGamingInput_Gamepad {
        try COM.NullResult.unwrap(_igamepadStatics2.fromGameController(gameController))
    }

    // MARK: Windows.Gaming.Input.IGamepadStatics members

    /// The list of all connected gamepads.
    /// - Returns: The list of all connected gamepads.
    public static var gamepads: WindowsFoundationCollections_IVectorView<WindowsGamingInput_Gamepad?> {
        get throws {
            try COM.NullResult.unwrap(_igamepadStatics.get_Gamepads())
        }
    }

    /// Signals when a new gamepad is connected.
    public static func gamepadAdded(adding value: WindowsFoundation_EventHandler<WindowsGamingInput_Gamepad?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _igamepadStatics.add_GamepadAdded(value)
        return WindowsRuntime.EventRegistration(token: _token, remover: gamepadAdded)
    }

    public static func gamepadAdded(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _igamepadStatics.remove_GamepadAdded(token)
    }

    /// Signals when a gamepad is disconnected.
    public static func gamepadRemoved(adding value: WindowsFoundation_EventHandler<WindowsGamingInput_Gamepad?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _igamepadStatics.add_GamepadRemoved(value)
        return WindowsRuntime.EventRegistration(token: _token, remover: gamepadRemoved)
    }

    public static func gamepadRemoved(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _igamepadStatics.remove_GamepadRemoved(token)
    }

    // MARK: Implementation details

    private var _igameController_storage: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGameController>? = nil

    internal var _igameController: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGameController> {
        get throws {
            try _igameController_storage.lazyInit {
                try _queryInterfacePointer(CWinRT.SWRT_WindowsGamingInput_IGameController.iid).cast(to: CWinRT.SWRT_WindowsGamingInput_IGameController.self)
            }
        }
    }

    private var _igamepad2_storage: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGamepad2>? = nil

    internal var _igamepad2: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGamepad2> {
        get throws {
            try _igamepad2_storage.lazyInit {
                try _queryInterfacePointer(CWinRT.SWRT_WindowsGamingInput_IGamepad2.iid).cast(to: CWinRT.SWRT_WindowsGamingInput_IGamepad2.self)
            }
        }
    }

    private var _igameControllerBatteryInfo_storage: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGameControllerBatteryInfo>? = nil

    internal var _igameControllerBatteryInfo: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGameControllerBatteryInfo> {
        get throws {
            try _igameControllerBatteryInfo_storage.lazyInit {
                try _queryInterfacePointer(CWinRT.SWRT_WindowsGamingInput_IGameControllerBatteryInfo.iid).cast(to: CWinRT.SWRT_WindowsGamingInput_IGameControllerBatteryInfo.self)
            }
        }
    }

    deinit {
        _igameController_storage?.release()
        _igamepad2_storage?.release()
        _igameControllerBatteryInfo_storage?.release()
    }

    private static var _igamepadStatics2_storage: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGamepadStatics2>? = nil

    internal static var _igamepadStatics2: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGamepadStatics2> {
        get throws {
            try _igamepadStatics2_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Gaming.Input.Gamepad", id: CWinRT.SWRT_WindowsGamingInput_IGamepadStatics2.iid)
            }
        }
    }

    private static var _igamepadStatics_storage: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGamepadStatics>? = nil

    internal static var _igamepadStatics: COM.COMInterop<CWinRT.SWRT_WindowsGamingInput_IGamepadStatics> {
        get throws {
            try _igamepadStatics_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Gaming.Input.Gamepad", id: CWinRT.SWRT_WindowsGamingInput_IGamepadStatics.iid)
            }
        }
    }
}