// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Contains core methods for authenticating with a companion device.
public final class WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorAuthentication: WindowsRuntime.WinRTImport<WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorAuthenticationProjection> {
    // MARK: Windows.Security.Authentication.Identity.Provider.ISecondaryAuthenticationFactorAuthentication members

    /// Gets the device configuration data.
    /// - Returns: The device configuration data.
    public var deviceConfigurationData: WindowsStorageStreams_IBuffer {
        get throws {
            try COM.NullResult.unwrap(_interop.get_DeviceConfigurationData())
        }
    }

    /// Gets the device nonce.
    /// - Returns: The device nonce.
    public var deviceNonce: WindowsStorageStreams_IBuffer {
        get throws {
            try COM.NullResult.unwrap(_interop.get_DeviceNonce())
        }
    }

    /// Gets the service authentication HMAC.
    /// - Returns: The service authentication HMAC.
    public var serviceAuthenticationHmac: WindowsStorageStreams_IBuffer {
        get throws {
            try COM.NullResult.unwrap(_interop.get_ServiceAuthenticationHmac())
        }
    }

    /// Gets the session nonce.
    /// - Returns: The session nonce.
    public var sessionNonce: WindowsStorageStreams_IBuffer {
        get throws {
            try COM.NullResult.unwrap(_interop.get_SessionNonce())
        }
    }

    /// Finishes an authentication with a companion device.
    /// - Parameter deviceHmac: The authentication device HMAC.
    /// - Parameter sessionHmac: The session HMAC.
    /// - Returns: When this method completes, it returns the status of the operation finishing.
    public func finishAuthenticationAsync(_ deviceHmac: WindowsStorageStreams_IBuffer?, _ sessionHmac: WindowsStorageStreams_IBuffer?) throws -> WindowsFoundation_IAsyncOperation<WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorFinishAuthenticationStatus> {
        try COM.NullResult.unwrap(_interop.finishAuthenticationAsync(deviceHmac, sessionHmac))
    }

    /// Aborts an authentication.
    /// - Parameter errorLogMessage: An error message to log.
    /// - Returns: This method does not return a value.
    public func abortAuthenticationAsync(_ errorLogMessage: Swift.String) throws -> WindowsFoundation_IAsyncAction {
        try COM.NullResult.unwrap(_interop.abortAuthenticationAsync(errorLogMessage))
    }

    // MARK: Windows.Security.Authentication.Identity.Provider.ISecondaryAuthenticationFactorAuthenticationStatics members

    /// Fires when the authentication stage changes.
    public static func authenticationStageChanged(adding handler: WindowsFoundation_EventHandler<WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorAuthenticationStageChangedEventArgs?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _isecondaryAuthenticationFactorAuthenticationStatics.add_AuthenticationStageChanged(handler)
        return WindowsRuntime.EventRegistration(token: _token, remover: authenticationStageChanged)
    }

    public static func authenticationStageChanged(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _isecondaryAuthenticationFactorAuthenticationStatics.remove_AuthenticationStageChanged(token)
    }

    /// Shows a message above the lock screen or within the companion device sign in option tile.
    /// - Parameter deviceName: The name of device to display as part of the notification message (set using the message parameter).
    /// - Parameter message: The message to show.
    /// - Returns: This method does not return a value.
    public static func showNotificationMessageAsync(_ deviceName: Swift.String, _ message: WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorAuthenticationMessage) throws -> WindowsFoundation_IAsyncAction {
        try COM.NullResult.unwrap(_isecondaryAuthenticationFactorAuthenticationStatics.showNotificationMessageAsync(deviceName, message))
    }

    /// Start an authentication with a companion device.
    /// - Parameter deviceId: The Id of the device to authenticate with.
    /// - Parameter serviceAuthenticationNonce: The service authentication nonce.
    /// - Returns: When this method completes, it returns the results of the authentication.
    public static func startAuthenticationAsync(_ deviceId: Swift.String, _ serviceAuthenticationNonce: WindowsStorageStreams_IBuffer?) throws -> WindowsFoundation_IAsyncOperation<WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorAuthenticationResult?> {
        try COM.NullResult.unwrap(_isecondaryAuthenticationFactorAuthenticationStatics.startAuthenticationAsync(deviceId, serviceAuthenticationNonce))
    }

    /// Gets info on the authentication stage.
    /// - Returns: When this method completes, it returns info on the authentication stage.
    public static func getAuthenticationStageInfoAsync() throws -> WindowsFoundation_IAsyncOperation<WindowsSecurityAuthenticationIdentityProvider_SecondaryAuthenticationFactorAuthenticationStageInfo?> {
        try COM.NullResult.unwrap(_isecondaryAuthenticationFactorAuthenticationStatics.getAuthenticationStageInfoAsync())
    }

    // MARK: Implementation details

    private static var _isecondaryAuthenticationFactorAuthenticationStatics_storage: COM.COMInterop<CWinRT.SWRT_WindowsSecurityAuthenticationIdentityProvider_ISecondaryAuthenticationFactorAuthenticationStatics>? = nil

    internal static var _isecondaryAuthenticationFactorAuthenticationStatics: COM.COMInterop<CWinRT.SWRT_WindowsSecurityAuthenticationIdentityProvider_ISecondaryAuthenticationFactorAuthenticationStatics> {
        get throws {
            try _isecondaryAuthenticationFactorAuthenticationStatics_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Security.Authentication.Identity.Provider.SecondaryAuthenticationFactorAuthentication", id: CWinRT.SWRT_WindowsSecurityAuthenticationIdentityProvider_ISecondaryAuthenticationFactorAuthenticationStatics.iid)
            }
        }
    }
}