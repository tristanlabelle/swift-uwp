// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Contains the information about the monitored Geofence objects.
public final class WindowsDevicesGeolocationGeofencing_GeofenceMonitor: WindowsRuntime.WinRTImport<WindowsDevicesGeolocationGeofencing_GeofenceMonitorProjection> {
    // MARK: Windows.Devices.Geolocation.Geofencing.IGeofenceMonitor members

    /// Returns a vector of the app's Geofence objects currently registered with the system-wide GeofenceMonitor.
    /// - Returns: A collection of the Geofence objects to monitor.
    public var geofences: WindowsFoundationCollections_IVector<WindowsDevicesGeolocationGeofencing_Geofence?> {
        get throws {
            try COM.NullResult.unwrap(_interop.get_Geofences())
        }
    }

    /// Last reading of the device's location.
    /// - Returns: Last reading of the device's location.
    public var lastKnownGeoposition: WindowsDevicesGeolocation_Geoposition {
        get throws {
            try COM.NullResult.unwrap(_interop.get_LastKnownGeoposition())
        }
    }

    /// Indicates the current state of the GeofenceMonitor.
    /// - Returns: Indicates the current state of a GeofenceMonitor.
    public var status: WindowsDevicesGeolocationGeofencing_GeofenceMonitorStatus {
        get throws {
            try _interop.get_Status()
        }
    }

    /// Raised when the state of one or more Geofence objects in the Geofences collection of the GeofenceMonitor has changed
    public func geofenceStateChanged(adding eventHandler: WindowsFoundation_TypedEventHandler<WindowsDevicesGeolocationGeofencing_GeofenceMonitor?, WindowsRuntime.IInspectable?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _interop.add_GeofenceStateChanged(eventHandler)
        return WindowsRuntime.EventRegistration(token: _token, remover: geofenceStateChanged)
    }

    public func geofenceStateChanged(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _interop.remove_GeofenceStateChanged(token)
    }

    /// Raised when the status of the GeofenceMonitor has changed.
    public func statusChanged(adding eventHandler: WindowsFoundation_TypedEventHandler<WindowsDevicesGeolocationGeofencing_GeofenceMonitor?, WindowsRuntime.IInspectable?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _interop.add_StatusChanged(eventHandler)
        return WindowsRuntime.EventRegistration(token: _token, remover: statusChanged)
    }

    public func statusChanged(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _interop.remove_StatusChanged(token)
    }

    /// Gets a collection of status changes to the Geofence objects in the Geofences collection of the GeofenceMonitor.
    /// - Returns: collection of status changes to the Geofence object(s) in GeofenceMonitor.
    public func readReports() throws -> WindowsFoundationCollections_IVectorView<WindowsDevicesGeolocationGeofencing_GeofenceStateChangeReport?> {
        try COM.NullResult.unwrap(_interop.readReports())
    }

    // MARK: Windows.Devices.Geolocation.Geofencing.IGeofenceMonitorStatics members

    /// Gets the GeofenceMonitor object which contains all of an app's Geofence information.
    /// - Returns: Gets the GeofenceMonitor object which contains all of an app's geofence information.
    public static var current: WindowsDevicesGeolocationGeofencing_GeofenceMonitor {
        get throws {
            try COM.NullResult.unwrap(_igeofenceMonitorStatics.get_Current())
        }
    }

    // MARK: Implementation details

    private static var _igeofenceMonitorStatics_storage: COM.COMInterop<CWinRT.SWRT_WindowsDevicesGeolocationGeofencing_IGeofenceMonitorStatics>? = nil

    internal static var _igeofenceMonitorStatics: COM.COMInterop<CWinRT.SWRT_WindowsDevicesGeolocationGeofencing_IGeofenceMonitorStatics> {
        get throws {
            try _igeofenceMonitorStatics_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Devices.Geolocation.Geofencing.GeofenceMonitor", id: CWinRT.SWRT_WindowsDevicesGeolocationGeofencing_IGeofenceMonitorStatics.iid)
            }
        }
    }
}