// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Provides access to the location of a device that's tracked relative to the user's surroundings, such as a HoloLens or other Mixed Reality headset.
public final class WindowsPerceptionSpatial_SpatialLocator: WindowsRuntime.WinRTImport<WindowsPerceptionSpatial_SpatialLocatorProjection> {
    // MARK: Windows.Perception.Spatial.ISpatialLocator members

    /// Gets the current state of the device's spatial location system.
    /// - Returns: The locatability.
    public var locatability: WindowsPerceptionSpatial_SpatialLocatability {
        get throws {
            try _interop.get_Locatability()
        }
    }

    /// Occurs when the state of the spatial location system changes.
    public func locatabilityChanged(adding handler: WindowsFoundation_TypedEventHandler<WindowsPerceptionSpatial_SpatialLocator?, WindowsRuntime.IInspectable?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _interop.add_LocatabilityChanged(handler)
        return WindowsRuntime.EventRegistration(token: _token, remover: locatabilityChanged)
    }

    public func locatabilityChanged(removing cookie: WindowsRuntime.EventRegistrationToken) throws {
        try _interop.remove_LocatabilityChanged(cookie)
    }

    /// Occurs when the device's spatial location system is deactivating due to inactivity.
    public func positionalTrackingDeactivating(adding handler: WindowsFoundation_TypedEventHandler<WindowsPerceptionSpatial_SpatialLocator?, WindowsPerceptionSpatial_SpatialLocatorPositionalTrackingDeactivatingEventArgs?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _interop.add_PositionalTrackingDeactivating(handler)
        return WindowsRuntime.EventRegistration(token: _token, remover: positionalTrackingDeactivating)
    }

    public func positionalTrackingDeactivating(removing cookie: WindowsRuntime.EventRegistrationToken) throws {
        try _interop.remove_PositionalTrackingDeactivating(cookie)
    }

    /// Returns a SpatialLocation representing the device's location at the specified timestamp. The coordinates within are expressed relative to the supplied coordinate system. If the device cannot be located in that coordinate system at the specified timestamp, the return value will be null. This can happen when the device has lost tracking, for example.
    /// - Parameter timestamp: The timestamp at which to locate the device.
    /// - Parameter coordinateSystem: The coordinate system in which to express the location's coordinates.
    /// - Returns: The location.
    public func tryLocateAtTimestamp(_ timestamp: WindowsPerception_PerceptionTimestamp?, _ coordinateSystem: WindowsPerceptionSpatial_SpatialCoordinateSystem?) throws -> WindowsPerceptionSpatial_SpatialLocation {
        try COM.NullResult.unwrap(_interop.tryLocateAtTimestamp(timestamp, coordinateSystem))
    }

    /// Creates a frame of reference that's positionally attached to this SpatialLocator with the current orientation as its fixed heading.
    /// - Returns: The locator-attached frame of reference.
    public func createAttachedFrameOfReferenceAtCurrentHeading() throws -> WindowsPerceptionSpatial_SpatialLocatorAttachedFrameOfReference {
        try COM.NullResult.unwrap(_interop.createAttachedFrameOfReferenceAtCurrentHeading())
    }

    /// Creates a frame of reference that's positionally attached to this SpatialLocator with the current orientation as its fixed heading and with its origin offset by the specified relative position.
    /// - Parameter relativePosition: The positional offset of the origin of the frame of reference, expressed within its coordinate system.
    /// - Returns: The locator-attached frame of reference.
    public func createAttachedFrameOfReferenceAtCurrentHeading(_ relativePosition: WindowsFoundationNumerics_Vector3) throws -> WindowsPerceptionSpatial_SpatialLocatorAttachedFrameOfReference {
        try COM.NullResult.unwrap(_interop.createAttachedFrameOfReferenceAtCurrentHeadingWithPosition(relativePosition))
    }

    /// Creates a frame of reference that's positionally attached to this SpatialLocator with the current orientation as its fixed heading and with its origin offset and rotated by the specified relative position and orientation.
    /// - Parameter relativePosition: The positional offset of the origin of the frame of reference, expressed within its coordinate system.
    /// - Parameter relativeOrientation: The rotation of the origin of the frame of reference, relative to the direction of the heading.
    /// - Returns: The locator-attached frame of reference.
    public func createAttachedFrameOfReferenceAtCurrentHeading(_ relativePosition: WindowsFoundationNumerics_Vector3, _ relativeOrientation: WindowsFoundationNumerics_Quaternion) throws -> WindowsPerceptionSpatial_SpatialLocatorAttachedFrameOfReference {
        try COM.NullResult.unwrap(_interop.createAttachedFrameOfReferenceAtCurrentHeadingWithPositionAndOrientation(relativePosition, relativeOrientation))
    }

    /// Creates a frame of reference that's positionally attached to this SpatialLocator with the supplied heading in radians relative to the current orientation and with its origin offset by the specified relative position and orientation.
    /// - Parameter relativePosition: The positional offset of the origin of the frame of reference, expressed within its coordinate system.
    /// - Parameter relativeOrientation: The rotation of the origin of the frame of reference, relative to the direction of the heading.
    /// - Parameter relativeHeadingInRadians: The amount to rotate the fixed heading from the SpatialLocator's current orientation, in radians.
    /// - Returns: The locator-attached frame of reference.
    public func createAttachedFrameOfReferenceAtCurrentHeading(_ relativePosition: WindowsFoundationNumerics_Vector3, _ relativeOrientation: WindowsFoundationNumerics_Quaternion, _ relativeHeadingInRadians: Swift.Double) throws -> WindowsPerceptionSpatial_SpatialLocatorAttachedFrameOfReference {
        try COM.NullResult.unwrap(_interop.createAttachedFrameOfReferenceAtCurrentHeadingWithPositionAndOrientationAndRelativeHeading(relativePosition, relativeOrientation, relativeHeadingInRadians))
    }

    /// Creates a frame of reference that remains stationary relative to the user's surroundings, with its initial origin at the SpatialLocator's current location.
    /// - Returns: The stationary frame of reference.
    public func createStationaryFrameOfReferenceAtCurrentLocation() throws -> WindowsPerceptionSpatial_SpatialStationaryFrameOfReference {
        try COM.NullResult.unwrap(_interop.createStationaryFrameOfReferenceAtCurrentLocation())
    }

    /// Creates a frame of reference that remains stationary relative to the user's surroundings, with its initial origin at the specified offset from the SpatialLocator's current location.
    /// - Parameter relativePosition: The positional offset of the origin of the frame of reference, expressed within its coordinate system.
    /// - Returns: The stationary frame of reference.
    public func createStationaryFrameOfReferenceAtCurrentLocation(_ relativePosition: WindowsFoundationNumerics_Vector3) throws -> WindowsPerceptionSpatial_SpatialStationaryFrameOfReference {
        try COM.NullResult.unwrap(_interop.createStationaryFrameOfReferenceAtCurrentLocationWithPosition(relativePosition))
    }

    /// Creates a frame of reference that remains stationary relative to the user's surroundings, with its initial origin at the specified offset from the SpatialLocator's current location, and then rotated at the specified rotation.
    /// - Parameter relativePosition: The positional offset of the origin of the frame of reference, expressed within its coordinate system.
    /// - Parameter relativeOrientation: The rotation of the origin of the frame of reference, relative to the orientation of the SpatialLocator.
    /// - Returns: The stationary frame of reference.
    public func createStationaryFrameOfReferenceAtCurrentLocation(_ relativePosition: WindowsFoundationNumerics_Vector3, _ relativeOrientation: WindowsFoundationNumerics_Quaternion) throws -> WindowsPerceptionSpatial_SpatialStationaryFrameOfReference {
        try COM.NullResult.unwrap(_interop.createStationaryFrameOfReferenceAtCurrentLocationWithPositionAndOrientation(relativePosition, relativeOrientation))
    }

    /// Creates a frame of reference that remains stationary relative to the user's surroundings, with its initial origin at the specified offset from the SpatialLocator's current location along the specified relative heading in radians, and then rotated at the specified rotation.
    /// - Parameter relativePosition: The positional offset of the origin of the frame of reference, expressed within its coordinate system.
    /// - Parameter relativeOrientation: The rotation of the origin of the frame of reference, relative to the direction of the heading.
    /// - Parameter relativeHeadingInRadians: The amount to rotate the fixed heading from the SpatialLocator's current orientation, in radians, before the positional offset.
    /// - Returns: The stationary frame of reference.
    public func createStationaryFrameOfReferenceAtCurrentLocation(_ relativePosition: WindowsFoundationNumerics_Vector3, _ relativeOrientation: WindowsFoundationNumerics_Quaternion, _ relativeHeadingInRadians: Swift.Double) throws -> WindowsPerceptionSpatial_SpatialStationaryFrameOfReference {
        try COM.NullResult.unwrap(_interop.createStationaryFrameOfReferenceAtCurrentLocationWithPositionAndOrientationAndRelativeHeading(relativePosition, relativeOrientation, relativeHeadingInRadians))
    }

    // MARK: Windows.Perception.Spatial.ISpatialLocatorStatics members

    /// Gets the SpatialLocator instance that tracks the location of the current device, such as a HoloLens, relative to the user's surroundings.
    /// - Returns: The spatial locator.
    public static func getDefault() throws -> WindowsPerceptionSpatial_SpatialLocator {
        try COM.NullResult.unwrap(_ispatialLocatorStatics.getDefault())
    }

    // MARK: Implementation details

    private static var _ispatialLocatorStatics_storage: COM.COMInterop<CWinRT.SWRT_WindowsPerceptionSpatial_ISpatialLocatorStatics>? = nil

    internal static var _ispatialLocatorStatics: COM.COMInterop<CWinRT.SWRT_WindowsPerceptionSpatial_ISpatialLocatorStatics> {
        get throws {
            try _ispatialLocatorStatics_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Perception.Spatial.SpatialLocator", id: CWinRT.SWRT_WindowsPerceptionSpatial_ISpatialLocatorStatics.iid)
            }
        }
    }
}