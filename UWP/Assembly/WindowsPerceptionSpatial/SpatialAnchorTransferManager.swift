// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Static methods for transferring spatial anchors between devices, so that both devices can reason about the same locations in their users' surroundings.
public enum WindowsPerceptionSpatial_SpatialAnchorTransferManager {
    // MARK: Windows.Perception.Spatial.ISpatialAnchorTransferManagerStatics members

    /// Imports a stream of spatial anchors that was previously exported from another device. This allows both devices to reason about the same locations in their users' surroundings.
    /// - Parameter stream: The stream to import anchors from.
    /// - Returns: The operation that triggers once the import is complete, providing the imported anchors.
    public static func tryImportAnchorsAsync(_ stream: WindowsStorageStreams_IInputStream?) throws -> WindowsFoundation_IAsyncOperation<WindowsFoundationCollections_IMapView<Swift.String, WindowsPerceptionSpatial_SpatialAnchor?>?> {
        try COM.NullResult.unwrap(_ispatialAnchorTransferManagerStatics.tryImportAnchorsAsync(stream))
    }

    public static func tryExportAnchorsAsync(_ anchors: WindowsFoundationCollections_IIterable<WindowsFoundationCollections_IKeyValuePair<Swift.String, WindowsPerceptionSpatial_SpatialAnchor?>?>?, _ stream: WindowsStorageStreams_IOutputStream?) throws -> WindowsFoundation_IAsyncOperation<Swift.Bool> {
        try COM.NullResult.unwrap(_ispatialAnchorTransferManagerStatics.tryExportAnchorsAsync(anchors, stream))
    }

    /// Requests access for an app to export or import spatial anchors. This requires the spatialPerception capability.
    /// - Returns: Operation that triggers once the user has completed any consent dialog, providing the access status.
    public static func requestAccessAsync() throws -> WindowsFoundation_IAsyncOperation<WindowsPerceptionSpatial_SpatialPerceptionAccessStatus> {
        try COM.NullResult.unwrap(_ispatialAnchorTransferManagerStatics.requestAccessAsync())
    }

    // MARK: Implementation details

    private static var _ispatialAnchorTransferManagerStatics_storage: COM.COMInterop<CWinRT.SWRT_WindowsPerceptionSpatial_ISpatialAnchorTransferManagerStatics>? = nil

    internal static var _ispatialAnchorTransferManagerStatics: COM.COMInterop<CWinRT.SWRT_WindowsPerceptionSpatial_ISpatialAnchorTransferManagerStatics> {
        get throws {
            try _ispatialAnchorTransferManagerStatics_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Perception.Spatial.SpatialAnchorTransferManager", id: CWinRT.SWRT_WindowsPerceptionSpatial_ISpatialAnchorTransferManagerStatics.iid)
            }
        }
    }
}