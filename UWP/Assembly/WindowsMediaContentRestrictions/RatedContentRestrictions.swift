// Generated by swift-winrt
// swiftlint:disable all

import CWinRT
import WindowsRuntime
import UWP
import struct Foundation.UUID

/// Contains all behavior and functionality related to a user's Family Safety content settings.
public final class WindowsMediaContentRestrictions_RatedContentRestrictions: WindowsRuntime.WinRTImport<WindowsMediaContentRestrictions_RatedContentRestrictionsProjection> {
    // MARK: IActivationFactory members

    public convenience init() throws {
        self.init(_transferringRef: try Self._iactivationFactory.activateInstance(projection: WindowsMediaContentRestrictions_RatedContentRestrictionsProjection.self))
    }

    // MARK: Windows.Media.ContentRestrictions.IRatedContentRestrictionsFactory members

    public convenience init(_ maxAgeRating: Swift.UInt32) throws {
        self.init(_transferringRef: try COM.NullResult.unwrap(Self._iratedContentRestrictionsFactory.createWithMaxAgeRating(maxAgeRating)))
    }

    // MARK: Windows.Media.ContentRestrictions.IRatedContentRestrictions members

    /// An event handler to notify apps when there are changes to the user's content settings.
    public func restrictionsChanged(adding handler: WindowsFoundation_EventHandler<WindowsRuntime.IInspectable?>?) throws -> WindowsRuntime.EventRegistration {
        let _token = try _interop.add_RestrictionsChanged(handler)
        return WindowsRuntime.EventRegistration(token: _token, remover: restrictionsChanged)
    }

    public func restrictionsChanged(removing token: WindowsRuntime.EventRegistrationToken) throws {
        try _interop.remove_RestrictionsChanged(token)
    }

    /// Gets information that is used filter an app's content catalog.
    /// - Returns: Returns a ContentRestrictionsBrowsePolicy object.
    public func getBrowsePolicyAsync() throws -> WindowsFoundation_IAsyncOperation<WindowsMediaContentRestrictions_ContentRestrictionsBrowsePolicy?> {
        try COM.NullResult.unwrap(_interop.getBrowsePolicyAsync())
    }

    /// Gets the policy that applies to a piece of content, for content browsing and consumption.
    /// - Parameter RatedContentDescription: The rated content info.
    /// - Returns: This method returns these values:
    public func getRestrictionLevelAsync(_ RatedContentDescription: WindowsMediaContentRestrictions_RatedContentDescription?) throws -> WindowsFoundation_IAsyncOperation<WindowsMediaContentRestrictions_ContentAccessRestrictionLevel> {
        try COM.NullResult.unwrap(_interop.getRestrictionLevelAsync(RatedContentDescription))
    }

    /// Determines whether the user is allowed to consume a piece of content.
    /// - Parameter RatedContentDescription: The rated content info.
    /// - Returns: Returns true, if the user can consume the content. Otherwise, returns false.
    public func requestContentAccessAsync(_ RatedContentDescription: WindowsMediaContentRestrictions_RatedContentDescription?) throws -> WindowsFoundation_IAsyncOperation<Swift.Bool> {
        try COM.NullResult.unwrap(_interop.requestContentAccessAsync(RatedContentDescription))
    }

    // MARK: Implementation details

    private static var _iactivationFactory_storage: COM.COMInterop<CWinRT.SWRT_IActivationFactory>? = nil

    internal static var _iactivationFactory: COM.COMInterop<CWinRT.SWRT_IActivationFactory> {
        get throws {
            try _iactivationFactory_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Media.ContentRestrictions.RatedContentRestrictions", id: CWinRT.SWRT_IActivationFactory.iid)
            }
        }
    }

    private static var _iratedContentRestrictionsFactory_storage: COM.COMInterop<CWinRT.SWRT_WindowsMediaContentRestrictions_IRatedContentRestrictionsFactory>? = nil

    internal static var _iratedContentRestrictionsFactory: COM.COMInterop<CWinRT.SWRT_WindowsMediaContentRestrictions_IRatedContentRestrictionsFactory> {
        get throws {
            try _iratedContentRestrictionsFactory_storage.lazyInit {
                try WindowsRuntime.getActivationFactoryPointer(activatableId: "Windows.Media.ContentRestrictions.RatedContentRestrictions", id: CWinRT.SWRT_WindowsMediaContentRestrictions_IRatedContentRestrictionsFactory.iid)
            }
        }
    }
}